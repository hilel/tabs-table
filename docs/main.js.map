{"version":3,"sources":["./src/environments/environment.ts","./projects/table/src/lib/table.module.ts","./projects/table/src/public-api.ts","./projects/table/src/lib/components/tab/tab.component.ts","./projects/table/src/lib/components/tab/tab.component.html","./projects/table/src/lib/table.service.ts","./src/app/app.component.html","./src/app/app.component.ts","./projects/table/src/lib/table.component.ts","./projects/table/src/lib/table.component.html","./src/app/app.module.ts","./src/app/api.service.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { TableComponent } from './table.component';\nimport { TabComponent } from './components/tab/tab.component';\n\n@NgModule({\n  declarations: [\n    TableComponent,\n    TabComponent\n  ],\n  imports: [\n    CommonModule\n  ],\n  exports: [\n    TableComponent,\n    TabComponent\n  ]\n})\nexport class TableModule { }\n","/*\n * Public API Surface of table\n */\n\nexport * from './lib/table.service';\nexport * from './lib/table.component';\nexport * from './lib/table.module';\nexport * from './lib/table-column';\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\nimport { TableService } from '../../table.service';\n\n@Component({\n  selector: 'tabs-table-tab',\n  templateUrl: './tab.component.html',\n  styleUrls: ['./tab.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TabComponent implements OnInit {\n  @Input() dataItems: any[];\n  public active: boolean = false;\n\n  constructor(\n    private _tableService: TableService,\n    private _cd: ChangeDetectorRef\n  ) { }\n\n  ngOnInit(): void {\n\n    this._tableService.activeTab.subscribe(\n      _t => {// to undo previous active tabs\n        this.active = this === _t;\n        this._cd.markForCheck();\n      }\n    );\n  }\n\n  public setActive() {\n    if(!this.active) {\n      // setTimeout to fix expression changed after checked - when changing child from parent component\n      // runs on next change detection cycle\n      setTimeout(() => {\n        this.active = true;\n        this._tableService.activeTab.next(this);\n        this._cd.markForCheck();\n      });\n    }\n  }\n\n}\n","<div class=\"tabs-table-tab\"\n  [class.active]=\"active\"\n  (click)=\"setActive()\"\n>\n  <ng-content></ng-content>\n</div>\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\nimport { TabComponent } from './components/tab/tab.component';\nimport { SortBy, TableColumn } from './table-column';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TableService {\n  public activeTab: Subject<TabComponent> = new Subject();\n\n  constructor() { }\n\n  public searchItems(searchTerm: string, items: any[], columns: TableColumn[]): any[] {\n    if(!searchTerm) return items;\n    const filtered = (items || []).filter(_item => {\n      return !!(columns || []).find(_c => {debugger;\n        return ((_item[_c.name] || '') + '')// ensure to turn it to string\n          .toLocaleLowerCase()\n          .includes(searchTerm.toLocaleLowerCase())\n      })\n    });\n    console.log(filtered);\n    return filtered;\n  }\n\n  public sortItems(items: any[], sortBy: SortBy): any[] {\n    return (items || []).sort((rowOne, rowTwo) => {\n      const firstValue = rowOne[sortBy.columnName];\n      const secondValue = rowTwo[sortBy.columnName];\n      const isDescending = !sortBy.asc;\n      // values are equal so return 0 -- don't need to sort\n      if (firstValue === secondValue) return 0;\n      // toggle between descending and ascending dependent on the currently applied sort direction\n      return (firstValue > secondValue) ? (isDescending ? 1 : -1) : (isDescending ? -1 : 1)\n    });\n  }\n}\n","<div class=\"container\">\n  <tabs-table [columns]=\"tableColumns\" [canSearch]=\"true\">\n\n    <ng-container *ngFor=\"let product of products$ | async\">\n\n      <tabs-table-tab [dataItems]=\"product.items\">\n        {{ product.title }}\n      </tabs-table-tab>\n\n    </ng-container>\n\n  </tabs-table>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { ApiService } from './api.service';\nimport { IProduct } from './i-product.inteface';\nimport { TableColumn } from 'projects/table/src/public-api';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  public products$: Observable<IProduct[]>;\n  public tableColumns: TableColumn[];\n\n  constructor(private _api: ApiService) {  }\n\n  ngOnInit(): void {\n    this.tableColumns = [\n      { name: 'vendor', title: 'Vendor' },\n      { name: 'name', title: 'Name' },\n      { name: 'price', title: 'Price' }\n    ]\n    this.products$ = this._api.getProducts();\n  }\n}\n","import { AfterContentChecked, ChangeDetectionStrategy, ChangeDetectorRef, Component, ContentChildren, Input, QueryList } from '@angular/core';\nimport { BehaviorSubject, combineLatest, Observable, Subject } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, map, switchMap, tap } from 'rxjs/operators';\n\nimport { TabComponent } from './components/tab/tab.component';\nimport { SortBy, TableColumn } from './table-column';\nimport { TableService } from './table.service';\n\n@Component({\n  selector: 'tabs-table',\n  templateUrl: './table.component.html',\n  styleUrls: ['./table.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TableComponent implements AfterContentChecked {\n  @Input() data: any[];\n  @Input() columns: TableColumn[];\n  @Input() canSearch: boolean;\n  @ContentChildren(TabComponent, { descendants: false }) tabs: QueryList<TabComponent>;\n\n  public dataItems$: Observable<any[]>;\n  public sortByColumn: SortBy | null | undefined;\n\n  private _sortByColumn$: Subject<SortBy | null> = new Subject();\n  // need search$ to be BehaviorSubject - it fires initial value\n  // fixes got no items when canSearch - there are other ways to fix it\n  private _search$: BehaviorSubject<string> = new BehaviorSubject('');\n  private _initialized: boolean = false;\n\n  constructor(\n    private _cd: ChangeDetectorRef,\n    private _tableService: TableService\n  ) { }\n\n  ngAfterContentChecked(): void {\n\n    if(!this._initialized) {\n      this._initialize();\n    }\n    // TODO: listen to tabs changes to respond if added/remove children tabs tabs\n    // this.tabs.changes\n    //   .pipe().subscribe(\n    //     _t => {\n    //     }\n    //   )\n  }\n\n  public onSort(column: TableColumn) {\n    if(this.sortByColumn && this.sortByColumn.columnName === column.name) {\n      this.sortByColumn.asc = !this.sortByColumn.asc;\n    } else {\n      this.sortByColumn = { columnName: column.name, asc: false };// first time\n    }\n    this._sortByColumn$.next(this.sortByColumn);\n  }\n\n  private _initialize() {\n    this._initialized = true;\n    this._setupDataItemsObservable();// have to be called first, before subjects emit first value\n    setTimeout(() => {\n      // need this timeout for combinedLatest operator to start working,\n      // it needs both observables to emit value\n      this.tabs.first.setActive();// set first by default;\n      if(this.columns?.length) {\n        this.onSort(this.columns[0]);// sort by first by defualt\n      }\n    });\n  }\n\n  public onSearch(term: string) {\n    this._search$.next(term);\n  }\n\n  private _setupDataItemsObservable() {\n    // let tabItemsObs: Observable<any[]>\n    // if(this.canSearch) {\n    //   tabItemsObs = this._getSearchObservable();\n    // } else {\n    const tabItemsObs = this._tableService.activeTab\n      .asObservable().pipe(\n        map(_t => _t.dataItems)\n      );\n    // }\n\n    const combinedObservables: Observable<any[] | SortBy | string>[] = [\n      tabItemsObs, this._sortByColumn$\n    ];\n\n    if(this.canSearch) {\n      combinedObservables.push(this._getSearchObservable());\n    }\n\n    this.dataItems$ =\n      combineLatest(combinedObservables)\n        .pipe(\n          map((_combined) => {\n            let itemsToSort: any[] = _combined[0] as any[];\n            const term = _combined[2] as string;\n            if(this.canSearch && term?.length > 1) {\n              itemsToSort = this._tableService.searchItems(\n                term, itemsToSort, this.columns\n              );\n            }\n            return this._tableService.sortItems(\n              itemsToSort,\n              _combined[1] as SortBy)\n          }),\n          tap(\n            // just to ensure to trigger change detection on next cycle,\n            // after mapped items\n            () => this._cd.markForCheck()\n          )\n        );\n  }\n\n  private _getSearchObservable(): Observable<string> {\n    return this._search$.pipe(\n      debounceTime(500),\n      distinctUntilChanged()// ,\n      // switchMap(_searchTerm => {\n      //   return this._tableService.activeTab.asObservable()\n      //     .pipe(\n      //       map(_t => {\n      //         if(!_searchTerm?.length) {\n      //           console.log(_searchTerm);\n      //           return _t.dataItems || [];\n      //         }\n      //         // get only items wich have search term in on of item columns\n      //         const filtered = (_t.dataItems || []).filter(_item => {\n      //           (this.columns || []).find(_c =>\n      //             ((_item[_c.name] || '') + '')\n      //               .toLocaleLowerCase()\n      //               .includes(_searchTerm.toLocaleLowerCase())\n      //           )\n      //         });\n      //         console.log(filtered);\n      //         return filtered;\n      //       })\n      //     )\n      // })\n    );\n  }\n\n}\n","<div class=\"tabs-table-tabs\">\n\n  <div class=\"tabs-container\">\n    <!-- tabs will render here -->\n    <ng-content></ng-content>\n  </div>\n\n  <div class=\"search\">\n    <input *ngIf=\"canSearch\" #searchInput type=\"text\" placeholder=\"Search\"\n      (keyup)=\"onSearch(searchInput.value)\"\n    >\n  </div>\n\n</div>\n\n  <table class=\"tabs-table-table\">\n\n    <thead>\n      <tr>\n        <th *ngFor=\"let column of columns\"\n            (click)=\"onSort(column)\"\n        >\n          <span>\n            {{ column.title }}&nbsp;\n            <i class=\"sort-arrow\" *ngIf=\"column.name == sortByColumn?.columnName\">\n              {{ sortByColumn.asc ? '&#x025BE;' : '&#x025B4;' }}\n            </i>\n          </span>\n        </th>\n      </tr>\n    </thead>\n\n    <tbody>\n      <tr\n        *ngFor=\"let item of dataItems$ | async\"\n      >\n        <td *ngFor=\"let column of columns\">\n          {{ item[column.name] || '' }}\n        </td>\n      </tr>\n    </tbody>\n\n\n  </table>\n","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { TableModule } from 'projects/table/src/public-api';\n\nimport { AppComponent } from './app.component';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n\n    TableModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { Observable, of } from 'rxjs';\n\nimport { IProduct } from './i-product.inteface';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ApiService {\n\n  constructor() { }\n\n  public getProducts(): Observable<IProduct[]> {\n    return of(getProductsData());\n  }\n\n}\n\nfunction getProductsData(): IProduct[] {\n  return [\n    {\n      \"title\": \"Phones\",\n      \"items\": [{\n        \"vendor\": \"Samsung\",\n        \"name\": \"S20\",\n        \"price\": 3100\n      }, {\n        \"vendor\": \"Apple\",\n        \"name\": \"iPhone\",\n        \"price\": 25000\n      }, {\n          \"vendor\": \"Xiaomi\",\n          \"name\": \"Poco X3\",\n          \"price\": 3500\n      }, {\n          \"vendor\": \"Huawei\",\n          \"name\": \"iPhone\",\n          \"price\": 4000\n      }]\n    }, {\n        \"title\": \"Cars\",\n        \"items\": [\n          {\n            \"vendor\": \"BMW\",\n            \"name\": \"X5\",\n            \"price\": 195000,\n            \"is_hybrid\": true\n          }, {\n            \"vendor\": \"Toyota\",\n            \"name\": \"Rav4\",\n            \"price\": 60000,\n            \"is_hybrid\": true\n          }, {\n            \"vendor\": \"Opel\",\n            \"name\": \"Corsa\",\n            \"price\": 34000,\n            \"is_hybrid\": false\n          }\n        ]\n    }, {\n        \"title\": \"Laptops\",\n        \"items\": [\n          {\n            \"vendor\": \"Lenovo\",\n            \"name\": \"ThinkPad\",\n            \"price\": 4000,\n            \"system\": \"Linux\"\n          }, {\n              \"vendor\": \"Acer\",\n              \"name\": \"Aspire\",\n              \"price\": 2400,\n              \"system\": \"ChromeOS\"\n          }, {\n              \"vendor\": \"Microsoft\",\n              \"name\": \"Surface Pro\",\n              \"price\": 8000,\n              \"system\": \"Windows\"\n          }, {\n              \"vendor\": \"Lenovo\",\n              \"name\": \"IdeaPad\",\n              \"price\": 1000,\n              \"system\": \"Windows\"\n          }\n        ]\n    }\n  ]\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}